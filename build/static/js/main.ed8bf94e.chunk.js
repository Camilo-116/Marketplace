(this.webpackJsonpmarketplace=this.webpackJsonpmarketplace||[]).push([[0],{25:function(e,t,a){e.exports=a(34)},33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),c=a(20),r=a.n(c),o=a(21),s=a(3),m=a(4),i=a(17),u=a(22);var d=function(){return n.a.createElement("div",{className:"top-background"},n.a.createElement("img",{src:"./top_background.png",alt:"Top Background"}))};var p=function(e){return n.a.createElement("div",{className:"search-bar"},n.a.createElement("div",{className:"search-image"},n.a.createElement("img",{src:"./shopping.png",alt:""})),n.a.createElement("div",{className:"search-container"},n.a.createElement("form",{onSubmit:t=>{e.searchCallback(t)}},n.a.createElement("input",{type:"text",className:"search-input",placeholder:"Search goods or services here...",onSubmit:e=>{console.log("Submit: ".concat(e.target.value))},onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()}}),n.a.createElement("select",{className:"search-categories",defaultValue:"none",onChange:t=>{t.target.style.color="black",e.categoryCallback(t)}},n.a.createElement("option",{value:"none"},"All Categories"),n.a.createElement("option",{value:"Goods"},"Goods"),n.a.createElement("option",{value:"Services"},"Services")),n.a.createElement("button",{className:"search-button",type:"submit"},"Search Now!"))))};var E=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"pag-band"},"Latest Online Products",n.a.createElement("div",{className:"nav-buttons"},n.a.createElement("button",{className:"prev-page",onClick:e.callback,disabled:e.firstPage},n.a.createElement("i",{className:"fa-solid fa-chevron-left"})),n.a.createElement("button",{className:"next-page",onClick:e.callback,disabled:e.lastPage},n.a.createElement("i",{className:"fa-solid fa-chevron-right"})))))};var g=function(e){return n.a.createElement("div",{className:"product-card",key:e.index},n.a.createElement("div",{className:"p-image"},n.a.createElement("img",{src:e.product.image,alt:e.product.name})),n.a.createElement("div",{className:"info-padding"},n.a.createElement("div",{className:"info"},n.a.createElement("div",{className:"p-name"},e.product.name),n.a.createElement("div",{className:"p-description"},e.product.description),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"p-category"},e.product.category),n.a.createElement("div",{className:"p-price"},e.product.price))),n.a.createElement("hr",null),n.a.createElement("div",{className:"product-pub"},n.a.createElement("div",{className:"pub-info"},n.a.createElement("div",{className:"p-pub-avatar"},n.a.createElement("img",{src:"./avatar.jpg",alt:"User avatar"})),n.a.createElement("div",{className:"p-publisher"},e.product.publisher)),n.a.createElement("div",{className:"rating"},[...Array(5)].map((e,t)=>n.a.createElement("label",{key:t},n.a.createElement("i",{className:"fa-solid fa-star"})))))))};var b=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"products"},e.products.map((e,t)=>n.a.createElement(g,{product:e,key:t}))))};var f=function(e){const t=e.platonicAdmin,[a,c]=Object(l.useState)(e.products),[r,o]=Object(l.useState)([]),[s,m]=Object(l.useState)(r.slice(0,8)),[i,u]=Object(l.useState)(0),[g,f]=Object(l.useState)(1),[h,v]=Object(l.useState)("none");return Object(l.useEffect)(()=>{console.log("Updating products: ".concat(e.products)),c(e.products)},[e.products]),Object(l.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("products"));e&&c(e)},[]),Object(l.useEffect)(()=>{o("none"===h?a:a.filter(e=>e.category===h))},[h,a]),Object(l.useEffect)(()=>{f(Math.ceil(r.length/8))},[r]),Object(l.useEffect)(()=>{m(r.slice(8*i,8*i+8))},[i,r]),n.a.createElement(n.a.Fragment,null,n.a.createElement(d,null),n.a.createElement("div",{className:"to-dashboard",onClick:()=>{t?window.location.href="/dashboard":e.dialogsCallback()}},n.a.createElement("i",{className:"fa-solid fa-table-columns"}),n.a.createElement("p",null,"Go to admin page")),n.a.createElement(p,{categoryCallback:e=>{v(e.target.value)},searchCallback:e=>{e.preventDefault();const t=document.querySelector(".search-input").value;""===t.trim()?(v("none"),o(a)):o(a.filter(e=>"none"===h?e.name.toLowerCase().includes(t.toLowerCase()):e.name.toLowerCase().includes(t.toLowerCase())&&e.category===h))}}),n.a.createElement("div",{style:{height:"12vh"}}),n.a.createElement(E,{callback:e=>{"prev-page"===e.target.className||"fa-solid fa-chevron-left"===e.target.className?i>0&&u(i-1):"next-page"!==e.target.className&&"fa-solid fa-chevron-right"!==e.target.className||i<g-1&&u(i+1)},firstPage:0===i,lastPage:i===Math.ceil(r.length/8)-1}),n.a.createElement(b,{products:s}))};var h=function(e){const t={id:1,name:"",price:"",publisher:"",category:"",description:"",image:""},[a,c]=Object(l.useState)(e.products),[r,o]=Object(l.useState)(t),[s,m]=Object(l.useState)(!1);Object(l.useEffect)(()=>{c(e.products)},[e.products]),Object(l.useEffect)(()=>{e.callback(a)},[a]);const i=e=>{const{name:t,value:a}=e.target;o({...r,[t]:a})};return n.a.createElement("div",{className:"crud"},n.a.createElement("a",{href:"/",className:"to-home"},n.a.createElement("span",null,n.a.createElement("i",{className:"fa-solid fa-arrow-left"})," Regresar")),n.a.createElement("h1",null,"Product CRUD"),n.a.createElement("div",{className:"crud-actions"},n.a.createElement("form",{className:"add-product"},n.a.createElement("label",null,"Name:",n.a.createElement("input",{type:"text",name:"name",value:r.name,onChange:i})),n.a.createElement("label",null,"Price:",n.a.createElement("input",{type:"text",name:"price",value:r.price,onChange:i})),n.a.createElement("label",null,"Publisher:",n.a.createElement("input",{type:"text",name:"publisher",value:r.publisher,onChange:i})),n.a.createElement("label",null,"Category:",n.a.createElement("input",{type:"text",name:"category",value:r.category,onChange:i})),n.a.createElement("label",null,"Description:",n.a.createElement("input",{type:"text",name:"description",value:r.description,onChange:i})),n.a.createElement("label",null,"Image URL:",n.a.createElement("input",{type:"text",name:"imageUrl",value:r.image,onChange:i})),n.a.createElement("div",{className:"action-button"},s?n.a.createElement("button",{type:"button",onClick:()=>{c(a.map(e=>e.id===r.id?r:e)),o(t),m(!1)}},"Update Product"):n.a.createElement("button",{type:"button",onClick:()=>{c([...a,{...r,id:Date.now()}]),o(t)}},"Add Product"))),n.a.createElement("table",{className:"products-table",border:"true"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Price"),n.a.createElement("th",null,"Publisher"),n.a.createElement("th",null,"Category"),n.a.createElement("th",null,"Description"),n.a.createElement("th",null,"Image URL"),n.a.createElement("th",null,"Actions"))),n.a.createElement("tbody",null,a.map(e=>n.a.createElement("tr",{key:e.id,className:"products-table-row"},n.a.createElement("td",null,e.name),n.a.createElement("td",null,e.price),n.a.createElement("td",null,e.publisher),n.a.createElement("td",null,e.category),n.a.createElement("td",null,e.description),n.a.createElement("td",null,e.image),n.a.createElement("td",{className:"buttons"},n.a.createElement("button",{type:"button",onClick:()=>(e=>{o(e),m(!0)})(e)},"Edit"),n.a.createElement("button",{type:"button",onClick:()=>{return t=e.id,void c(a.filter(e=>e.id!==t));var t}},"Delete"))))))))};var v=function(){const e=Object(l.useRef)(null),t=()=>{e.current.show({severity:"warn",summary:"Rejected",detail:"You're honest, we appreciate that",life:3e3})},[a,c]=Object(l.useState)("true"===localStorage.getItem("platonicAdmin")||!1),[r,d]=Object(l.useState)([!1,!1]);Object(l.useEffect)(()=>{localStorage.setItem("platonicAdmin",a)},[a]);const[p,E]=Object(l.useState)(()=>JSON.parse(localStorage.getItem("products"))||[]);Object(l.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("products"));e&&e.length>0?E(e):fetch("products.json").then(e=>e.json()).then(e=>{E(e.products)})},[]),Object(l.useEffect)(()=>{a||(r[0]?(console.log("Opening dialog1"),(e=>{let{onNext:t,onClose:a}=e;Object(i.b)({message:"This feature is exclusive for admins. Are you an admin?",header:"Admin Confirmation",icon:"pi pi-exclamation-triangle",accept:t,reject:a})})({onClose:v,onNext:b})):r[1]&&(e=>{let{onConfirm:t,onClose:a}=e;Object(i.b)({message:'The 9th commandment says "You shall not bear false witness".\n Are you sure you\'re an admin?',header:"Admin Confirmation",icon:"pi pi-exclamation-triangle",accept:t,reject:a})})({onClose:y,onConfirm:N}))},[r,a]),Object(l.useEffect)(()=>{localStorage.setItem("products",JSON.stringify(p))},[p]);const g=e=>{E(e)},b=()=>{console.log("Opening dialog2"),d([!1,!0])},v=()=>{t(),d([!1,!1])},N=()=>{e.current.show({severity:"info",summary:"Confirmed",detail:"We will trust you",life:3e3}),c(!0),window.location.href="/dashboard",d([!1,!1])},y=()=>{t(),d([!1,!1])};return n.a.createElement(m.b,null,n.a.createElement(o.a,null,n.a.createElement(s.c,null,n.a.createElement(s.a,{path:"/",element:n.a.createElement(n.a.Fragment,null,n.a.createElement(u.a,{ref:e}),n.a.createElement(i.a,null),n.a.createElement(f,{products:p,updateProducts:g,dialogsCallback:()=>{console.log("Opening dialogs"),d([!0,!1])},platonicAdmin:a}))}),n.a.createElement(s.a,{path:"/dashboard",element:n.a.createElement(h,{products:p,callback:g})}))))};a(33);r.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(v,null)))}},[[25,1,2]]]);
//# sourceMappingURL=main.ed8bf94e.chunk.js.map